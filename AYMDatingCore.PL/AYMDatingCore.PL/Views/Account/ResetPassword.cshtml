@model AYMDatingCore.PL.DTO.ResetPasswordDTO

@{
    ViewData["Title"] = "Reset Password";
}



<style>
    /* Romantic Reset Password Style 💖 */
    body {
        background: linear-gradient(135deg, #ffafbd 0%, #ffc3a0 100%);
        font-family: 'Poppins', sans-serif;
    }

    .reset-container {
        display: flex;
        justify-content: center;
        align-items: center;
        min-height: 100vh;
        padding: 20px;
    }

    .reset-box {
        background: #fff;
        border-radius: 20px;
        padding: 35px 40px;
        width: 400px;
        box-shadow: 0 6px 20px rgba(255, 107, 129, 0.3);
        text-align: center;
        position: relative;
        animation: fadeIn 0.6s ease-in-out;
    }

    @@keyframes fadeIn {
        from

    {
        opacity: 0;
        transform: translateY(20px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }

    }

    .reset-title {
        font-size: 28px;
        font-weight: 600;
        color: #e75480;
        margin-bottom: 15px;
    }

    .reset-subtitle {
        font-size: 14px;
        color: #555;
        margin-bottom: 25px;
    }

    .form-group {
        text-align: left;
        margin-bottom: 18px;
    }

    .form-label {
        font-weight: 600;
        font-size: 14px;
        color: #444;
        margin-bottom: 5px;
        display: block;
    }

    .form-input {
        width: 100%;
        height: 40px;
        padding: 8px 12px;
        border: 1px solid #ffd1dc;
        border-radius: 10px;
        font-size: 14px;
        transition: all 0.3s ease;
    }

        .form-input:focus {
            border-color: #ff6b81;
            box-shadow: 0 0 8px rgba(255, 107, 129, 0.4);
            outline: none;
        }

    .text-danger {
        color: #e63946;
        font-size: 12px;
        margin-top: 3px;
        display: block;
    }

    .reset-btn {
        width: 100%;
        background: linear-gradient(135deg, #ff6b81, #ffb3c6);
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 15px;
        font-weight: 600;
        padding: 10px;
        margin-top: 10px;
        cursor: pointer;
        transition: 0.3s ease;
    }

        .reset-btn:hover {
            background: linear-gradient(135deg, #ff4d6d, #ff9ebc);
            transform: translateY(-2px);
        }

    .romantic-footer {
        font-size: 12px;
        margin-top: 20px;
        color: #666;
    }

        .romantic-footer a {
            color: #ff6b81;
            text-decoration: none;
        }

            .romantic-footer a:hover {
                text-decoration: underline;
            }

    .back-to-login {
        margin-top: 15px;
        font-size: 13px;
    }

        .back-to-login a {
            color: #ff6b81;
            text-decoration: none;
            font-weight: 600;
        }

            .back-to-login a:hover {
                text-decoration: underline;
            }

</style>


<div class="reset-container">
    <div class="reset-box">
        <h1 class="reset-title">💖 Reset Your Password</h1>
        <p class="reset-subtitle">Enter your new password to keep your heart (and account) safe.</p>

        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

        <form id="ResetpasswordForm" method="post" asp-controller="Account" asp-action="ResetPassword">
            @Html.AntiForgeryToken()

            <div class="form-group">
                <label class="form-label" for="email">Email Address</label>
                <input type="email" id="email" class="form-input" asp-for="Email" placeholder="Enter your registered email" required />
                <span asp-validation-for="Email" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label class="form-label" for="password">New Password</label>
                <input type="password" id="password" value="Aym@8513" class="form-input" asp-for="Password" placeholder="Enter new password" required />
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label class="form-label" for="confirmPassword">Confirm Password</label>
                <input type="password" id="confirmPassword" value="Aym@8513" class="form-input" asp-for="ConfirmPassword" placeholder="Re-enter new password" required />
                <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label class="form-label" for="resetCode">Reset Code</label>
                <input type="text" id="resetCode" class="form-input" asp-for="ResetCode" placeholder="Enter your reset code" required />
                <span asp-validation-for="ResetCode" class="text-danger"></span>
            </div>

            <button type="submit" class="reset-btn">💌 Reset Password</button>
        </form>

        <div class="romantic-footer">
            By resetting your password, you agree to our
            <a asp-controller="Home" asp-action="ConditionsofUse">Conditions of Use</a> and
            <a asp-controller="Home" asp-action="PrivacyNotice">Privacy Policy</a>.
        </div>

        <div class="back-to-login">
            ❤️ Already in love? <a asp-controller="Account" asp-action="Login">Sign in</a>
        </div>
    </div>
</div>


@section Scripts {
    <partial name="_ValidationScriptsPartial" />
 <script>
        $(document).ready(function() {
            // Form validation
        $('#ResetpasswordForm').on('submit', function(e) {
                let isValid = true;
                
                // Reset error messages
                $('.text-danger').text('');
                
                // Validate email
                const email = $('#email').val().trim();
                if (!email) {
                    $('#emailError').text('Please enter your email address');
                    isValid = false;
                } else if (!isValidEmail(email)) {
                    $('#emailError').text('Please enter a valid email address');
                    isValid = false;
                }
                
                // Validate password
                const password = $('#password').val();
                if (!password) {
                    $('#passwordError').text('Please enter your password');
                    isValid = false;
                } else if (password.length < 6) {
                    $('#passwordError').text('Password must be at least 6 characters long');
                    isValid = false;
                }
                
                // Validate confirm password
                const confirmPassword = $('#confirmPassword').val();
                if (!confirmPassword) {
                    $('#confirmPasswordError').text('Please confirm your password');
                    isValid = false;
                } else if (password !== confirmPassword) {
                    $('#confirmPasswordError').text('Passwords do not match');
                    isValid = false;
                }
                
                // Validate first name
                const resetCode = $('#resetCode').val().trim();
                if (!resetCode) {
                $('#resetCodeError').text('Please enter your Reset Code');
                    isValid = false;
                }
               
                
                // Prevent form submission if validation fails
                if (!isValid) {
                    e.preventDefault();
                }
            });

        // Email validation function
            function isValidEmail(email) {
                const re = /^(([^<>()\[\]\\.,;:\s@@"]+(\.[^<>()\[\]\\.,;:\s@@"]+)*)|(".+"))@@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/;
                return re.test(String(email).toLowerCase());
            }
            
            // Real-time validation
            $('#email').on('blur', function() {
                const email = $(this).val().trim();
                if (!email) {
                    $('#emailError').text('Please enter your email address');
                } else if (!isValidEmail(email)) {
                    $('#emailError').text('Please enter a valid email address');
                } else {
                    $('#emailError').text('');
                }
            });
            
            $('#password').on('blur', function() {
                const password = $(this).val();
                if (!password) {
                    $('#passwordError').text('Please enter your password');
                } else if (password.length < 6) {
                    $('#passwordError').text('Password must be at least 6 characters long');
                } else {
                    $('#passwordError').text('');
                }
            });
            
            $('#confirmPassword').on('blur', function() {
                const confirmPassword = $(this).val();
                const password = $('#password').val();
                if (!confirmPassword) {
                    $('#confirmPasswordError').text('Please confirm your password');
                } else if (password !== confirmPassword) {
                    $('#confirmPasswordError').text('Passwords do not match');
                } else {
                    $('#confirmPasswordError').text('');
                }
            });
            
            $('#resetCode').on('blur', function() {
                const resetCode = $(this).val().trim();
                if (!resetCode) {
                    $('#resetCodeError').text('Please enter your first name');
                } else {
                    $('#resetCodeError').text('');
                }
            });
            
 
        });
    </script>
    }