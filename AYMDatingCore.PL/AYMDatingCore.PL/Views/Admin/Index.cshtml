@model UserSelectViewModel

@{
    ViewData["Title"] = "Admin Panel";
}

<!-- Select2 CSS & JS -->
<link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

<style>
    /* 🌸 Body & Wrapper */
    body {
        background: linear-gradient(135deg, #ffe6f0, #fff);
        font-family: 'Poppins', sans-serif;
    }

    .admin-wrapper {
        padding: 60px 20px;
        text-align: center;
    }

    /* Titles */
    .admin-title {
        font-weight: 700;
        color: #d63384;
    }

    .admin-subtitle {
        color: #6c757d;
        font-size: 1.1rem;
        margin-bottom: 50px;
    }

    /* Card Styles */
    .admin-card {
        border: none;
        border-radius: 20px;
        box-shadow: 0 10px 25px rgba(214, 51, 132, 0.15);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

        .admin-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 15px 35px rgba(214, 51, 132, 0.25);
        }

    .card-icon {
        font-size: 40px;
        margin-bottom: 15px;
    }

    /* Gradient Backgrounds */
    .bg-pink {
        background: linear-gradient(135deg, #ff5fa2, #ff85c2);
        color: #fff;
    }

    .bg-soft-pink {
        background: linear-gradient(135deg, #ff85c2, #ffc2dc);
        color: #fff;
    }

    .bg-email {
        background: linear-gradient(135deg, #ff6fae, #ff9fcf);
        color: #fff;
    }

    .bg-contact {
        background: linear-gradient(135deg, #ff7eb3, #ffb6d5);
        color: #fff;
    }

    /* Buttons */
    .btn-pink {
        background-color: #fff;
        color: #d63384;
        border-radius: 30px;
        font-weight: 600;
        padding: 10px 25px;
        transition: all 0.3s ease;
    }

        .btn-pink:hover {
            background-color: #d63384;
            color: #fff;
        }

    .bg-reports {
        background: linear-gradient(135deg, #ff4d4f, #ff7a7a);
        color: #fff;
    }

    .btn-report {
        background: #fff;
        color: #ff4d4f;
        border-radius: 30px;
        font-weight: 600;
        padding: 10px 25px;
        transition: all 0.3s ease;
    }

        .btn-report:hover {
            background-color: #ff4d4f;
            color: #fff;
        }
</style>

<div class="admin-wrapper">
    <h1 class="admin-title mb-3">Admin Control Panel</h1>
    <p class="admin-subtitle">Manage users, messages, and platform settings with ease 💖</p>

    <div class="container">
        <div class="row g-4 justify-content-center">

            <!-- =========================
                 Messages Card
                 ========================= -->
            <div class="col-md-4">
                <div class="card admin-card bg-pink h-100">
                    <div class="card-body p-4">
                        <div class="card-icon">💬</div>
                        <h4 class="card-title">User Messages</h4>
                        <p class="card-text">View, edit, and manage all user conversations.</p>

                        <form asp-action="UserMessages" asp-controller="Admin" id="GoToMessagesForm" method="get" class="mt-4">
                            <div class="mb-3">
                                <select asp-for="UserId" id="userId" asp-items="Model.Users" class="form-select" required>
                                    <option value="">-- Select User --</option>
                                </select>
                                <span id="userIdError" class="text-danger"></span>
                            </div>

                            <button type="submit" class="btn btn-pink mt-2">Manage Messages</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- =========================
                 Users Card
                 ========================= -->
            <div class="col-md-4">
                <div class="card admin-card bg-soft-pink h-100">
                    <div class="card-body p-4">
                        <div class="card-icon">👥</div>
                        <h4 class="card-title">User Management</h4>
                        <p class="card-text">Review profiles, update details, and control access.</p>
                        @Html.ActionLink(
                        "Manage Users",
                                                "UserManagement",
                                                "Admin",
                                                null,
                                                new { @class = "btn btn-pink mt-3" }
                                                )
                    </div>
                </div>
            </div>

            <!-- =========================
                 User Emails Card
                 ========================= -->
            <div class="col-md-4">
                <div class="card admin-card bg-email h-100">
                    <div class="card-body p-4">
                        <div class="card-icon">📧</div>
                        <h4 class="card-title">User Emails</h4>
                        <p class="card-text">View all emails sent to users for audit and support purposes.</p>
                        @Html.ActionLink(
                                                "View Emails",
                                                "UserEmails",
                                                "Admin",
                                                null,
                                                new { @class = "btn btn-pink mt-3" }
                                                )
                    </div>
                </div>
            </div>

            <!-- =========================
                 Contact Messages Card
                 ========================= -->
            <div class="col-md-4">
                <div class="card admin-card bg-contact h-100">
                    <div class="card-body p-4">
                        <div class="card-icon">💌</div>
                        <h4 class="card-title">Contact Messages</h4>
                        <p class="card-text">View messages sent from the Contact Us page.</p>
                        @Html.ActionLink(
                                                "View Messages",
                                                "UserContactUs",
                                                "Admin",
                                                null,
                                                new { @class = "btn btn-pink mt-3" }
                                                )
                    </div>
                </div>
            </div>

            <!-- =========================
                 User Reports Card
                 ========================= -->
            <div class="col-md-4">
                <div class="card admin-card bg-reports h-100">
                    <div class="card-body p-4">
                        <div class="card-icon">🚨</div>
                        <h4 class="card-title">User Reports</h4>
                        <p class="card-text">
                            Review complaints submitted by users against others.
                        </p>
                        @Html.ActionLink(
                                                "Review Reports",
                                                "UserReports",
                                                "Admin",
                                                null,
                                                new { @class = "btn btn-report mt-3" }
                                                )
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    $(document).ready(function () {

        // ===============================
        // Initialize Select2
        // ===============================
        $('#userId').select2({
            placeholder: 'Select User',
            allowClear: true,
            width: '100%'
        });

        // ===============================
        // Form Validation
        // ===============================
        $('#GoToMessagesForm').on('submit', function (e) {
            const userId = $('#userId').val();
            $('#userIdError').text('');

            if (!userId) {
                e.preventDefault();
                $('#userIdError').text('User selection is required');
            }
        });
    });
</script>
